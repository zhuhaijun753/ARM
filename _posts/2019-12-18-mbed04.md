---
layout: post
title:  "4. RTOS 기반인 Mbed OS 이해하기"
date:   2019-12-19
categories: ARM Mbed
---

Mbed OS는 RTOS 기반으로 만들어진 Operating System이다. 따라서 main 스레드 이외로 추가적으로 스레드를 추가해서 multi-thread 프로그램이 가능하다. 따라서 RTOS 시스템을 이해하고 코드를 직접 실행시키면서 동작을 이해해보려고 한다.

---

1. RTOS란  
  * 주로 Embedded System에서 사용
  * 사용자가 설정한 시간 안에 결과값 반환을 기대할 수 있다
  * __스케쥴러를 이용한 multi tasking이 지원된다__
  * 선점형 스케쥴러로, task 우선순위를 정할 수 있다

2. RTOS 펌웨어 개발
  * 특정 작업이 시간에 대한 일관성이 요구될 때
  * Non-OS 펌웨어 개발보다 프로그램 복잡도가 증가
  * Non-OS 펌웨어보다 많은 메모리가 필요

3. Mbed-OS
  * IoT에 최적화된 ARM Open Source RTOS
  * Cortex-M, R에만 사용이 가능

![mbedOS]()

---

### thread state

스레드는 mbed-OS에서 실행되는 기본 작업 단위로써 일반적인 C 함수로 표현되며, 그 안에서는 무한루프 구조로 동작하고 있다. 그리고 스레드는 다음과 같이 3~4개의 상태 구조를 가지고 있는데, 이를 잘 이해해야만 RTOS 프로그램 구조를 이해할 수 있다.

![thread_state]()

---

#### same priority
